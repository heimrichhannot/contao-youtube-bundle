(function(b){var a={config:{cookies:{privacy:{name:"youtube-privacy",value:"auto",expire:365}},privacyAutoFieldName:"youtubePrivacyAuto"},onReady:function(){b("[data-media=youtube]").each(function(){if(b(this).data("autoplay")){a.initVideo(this)}});b("body").on("click","[data-media=youtube]",function(){a.initVideo(this)})},initVideo:function(f){var h=b(f),d=h.parent().find(".video-container"),g=d.find("iframe");b("body").on("click",'[data-dismiss="modal"]',function(){g.attr("src",g.data("src"))});b("body").on("hidden.bs.modal",function(i){g.attr("src",g.data("src"))});if(h.data("privacy")){if(a.getPrivacyAuto()==a.config.cookies.privacy.value){g.attr("src",g.data("src"));e();return false}var c=h.parent().find(".modal.youtube-privacy");if(b("body").find(".youtube-privacy-backdrop").length<1){b("body").append('<div class="youtube-privacy-backdrop modal-backdrop fade show"></div>')}c.addClass("show");c.on("click",'[data-dismiss="modal"]',function(){c.removeClass("show");b("body").find(".youtube-privacy-backdrop").remove()});c.find("form").on("submit",function(i){i.preventDefault();if(b(this).find("[name="+a.config.privacyAutoFieldName+"]").is(":checked")){a.setPrivacyAuto()}g.attr("src",g.data("src"));e();b("body").find(".youtube-privacy-backdrop").remove();c.removeClass("show")});return false}g.attr("src",g.data("src"));e();function e(){h.addClass("initialize");d.addClass("initialize");g.attr("src",g.attr("src")+"&autoplay=1");h.removeClass(["initialize","video-hidden"]);d.removeClass(["initialize","video-hidden"])}},setPrivacyAuto:function(){this.createCookie(a.config.cookies.privacy.name,a.config.cookies.privacy.value,a.config.cookies.privacy.expire)},getPrivacyAuto:function(){return this.readCookie(a.config.cookies.privacy.name)},createCookie:function(e,f,g){var c;if(g){var d=new Date();d.setTime(d.getTime()+(g*24*60*60*1000));c="; expires="+d.toGMTString()}else{c=""}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(f)+c+"; path=/"},readCookie:function(e){var g=encodeURIComponent(e)+"=";var d=document.cookie.split(";");for(var f=0;f<d.length;f++){var h=d[f];while(h.charAt(0)===" "){h=h.substring(1,h.length)}if(h.indexOf(g)===0){return decodeURIComponent(h.substring(g.length,h.length))}}return null},eraseCookie:function(c){this.createCookie(c,"",-1)}};document.addEventListener("DOMContentLoaded",function(){a.onReady()})})(u);