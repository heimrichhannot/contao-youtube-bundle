(function(a){var b={config:{cookies:{privacy:{name:'youtube-privacy',value:'auto',expire:365}},privacyAutoFieldName:'youtubePrivacyAuto'},onReady:function(){a('[data-media="youtube"]').each(function(){a(this).data('autoplay')&&b.initVideo(this)}),a('body').on('click','[data-media="youtube"]',function(){b.initVideo(this)})},initVideo:function(c){function d(){e.addClass('initialize'),f.addClass('initialize'),g.attr('src',g.attr('src')+'&autoplay=1'),e.removeClass(['initialize','video-hidden']),f.removeClass(['initialize','video-hidden'])}var e=a(c),f=e.parent().find('.video-container'),g=f.find('iframe');if(a('body').on('click','[data-dismiss="modal"]',function(){g.attr('src',g.data('src'))}),a('body').on('hidden.bs.modal',function(){g.attr('src',g.data('src'))}),e.data('privacy')){if(b.getPrivacyAuto()==b.config.cookies.privacy.value)return g.attr('src',g.data('src')),d(),!1;var h=bootbox.dialog({message:e.data('privacy-html').replace(/\\"/g,'"')});return h.init(function(){h.find('form').on('submit',function(c){c.preventDefault(),a(this).find('[name='+b.config.privacyAutoFieldName+']').is(':checked')&&b.setPrivacyAuto(),g.attr('src',g.data('src')),d(),h.modal('hide')})}),!1}g.attr('src',g.data('src')),d()},setPrivacyAuto:function(){this.createCookie(b.config.cookies.privacy.name,b.config.cookies.privacy.value,b.config.cookies.privacy.expire)},getPrivacyAuto:function(){return this.readCookie(b.config.cookies.privacy.name)},createCookie:function(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c)))),d='; expires='+e.toGMTString()}else d='';document.cookie=encodeURIComponent(a)+'='+encodeURIComponent(b)+d+'; path=/'},readCookie:function(a){for(var b,c=encodeURIComponent(a)+'=',d=document.cookie.split(';'),e=0;e<d.length;e++){for(b=d[e];' '===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(c))return decodeURIComponent(b.substring(c.length,b.length))}return null},eraseCookie:function(a){this.createCookie(a,'',-1)}};document.addEventListener('DOMContentLoaded',function(){b.onReady()})})(u);