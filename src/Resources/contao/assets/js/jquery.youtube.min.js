(function(a){YouTubeVideo={config:{cookies:{privacy:{name:"youtube-privacy",value:"auto",expire:365}},privacyAutoFieldName:"youtubePrivacyAuto"},onReady:function(){a("[data-media=youtube]").each(function(){if(a(this).data("autoplay")){YouTubeVideo.initVideo(this)}});a("body").on("click","[data-media=youtube]",function(){YouTubeVideo.initVideo(this)})},initVideo:function(e){var g=a(e),c=g.parent().find(".video-container"),f=c.find("iframe");if(g.data("privacy")){if(YouTubeVideo.getPrivacyAuto()==YouTubeVideo.config.cookies.privacy.value){f.attr("src",f.data("src"));d();return false}var b=g.parent().find(".modal.youtube-privacy");b.modal("show");b.find("form").on("submit",function(h){h.preventDefault();if(a(this).find("[name="+YouTubeVideo.config.privacyAutoFieldName+"]").is(":checked")){YouTubeVideo.setPrivacyAuto()}f.attr("src",f.data("src"));d();b.modal("hide")});return false}f.attr("src",f.data("src"));d();function d(){c.css("height",0);c.css("padding",0);f.css("height",0);c.show();f.attr("src",f.attr("src")+"&autoplay=1");f.queue(function(h){g.hide();c.css("height","0");c.css("padding-bottom","56.25%");c.css("padding-top","0");a(this).css({opacity:"0",height:"100%"}).animate({opacity:1},1500);h()})}},setPrivacyAuto:function(){this.createCookie(YouTubeVideo.config.cookies.privacy.name,YouTubeVideo.config.cookies.privacy.value,YouTubeVideo.config.cookies.privacy.expire)},getPrivacyAuto:function(){return this.readCookie(YouTubeVideo.config.cookies.privacy.name)},createCookie:function(d,e,f){var b;if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));b="; expires="+c.toGMTString()}else{b=""}document.cookie=encodeURIComponent(d)+"="+encodeURIComponent(e)+b+"; path=/"},readCookie:function(d){var f=encodeURIComponent(d)+"=";var b=document.cookie.split(";");for(var e=0;e<b.length;e++){var g=b[e];while(g.charAt(0)===" "){g=g.substring(1,g.length)}if(g.indexOf(f)===0){return decodeURIComponent(g.substring(f.length,g.length))}}return null},eraseCookie:function(b){this.createCookie(b,"",-1)}};a(document).ready(function(){YouTubeVideo.onReady()})})(jQuery);